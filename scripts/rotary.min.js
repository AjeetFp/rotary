var html='<div class="rotary">               <div class="numbers">                 <div class="number"></div>                 <div class="number"></div>                 <div class="number"></div>                 <div class="number"></div>                 <div class="number"></div>                 <div class="number"></div>                 <div class="number"></div>                 <div class="number"></div>                 <div class="number"></div>                 <div class="number"></div>               </div>               <div class="dial">                 <div class="hole-wrapper"><div class="hole"></div></div>                 <div class="hole-wrapper"><div class="hole"></div></div>                 <div class="hole-wrapper"><div class="hole"></div></div>                 <div class="hole-wrapper"><div class="hole"></div></div>                 <div class="hole-wrapper"><div class="hole"></div></div>                 <div class="hole-wrapper"><div class="hole"></div></div>                 <div class="hole-wrapper"><div class="hole"></div></div>                 <div class="hole-wrapper"><div class="hole"></div></div>                 <div class="hole-wrapper"><div class="hole"></div></div>                 <div class="hole-wrapper"><div class="hole"></div></div>               </div>               <div class="guard"></div>             </div>',rotateDial=function(e,a,t){var s=getRotationDegrees(t.parent()),i=(55-getRotationDegrees(t.parent())+360)%360,o=a.pageX||a.originalEvent.touches[0].pageX,r=a.pageY||a.originalEvent.touches[0].pageY,l=o-e.offset().left-e.width()/2,v=-1*(r-e.offset().top-e.height()/2),d=Math.atan2(v,l)*(180/Math.PI),n=convertThetaToCssDegs(d,s),c=e.find(".dial");if(!(n>i+55||0>n||n<getRotationDegrees(c))){var u="rotate("+n+"deg)";c.css({transform:u,"-webkit-transform":u,"-moz-transform":u,"-ms-transform":u})}},convertThetaToCssDegs=function(e,a){var t=90-e-a;return t=(t+360)%360},getRotationDegrees=function(e){var a,t=e[0],s=window.getComputedStyle(t,null),i=s.getPropertyValue("-webkit-transform")||s.getPropertyValue("-moz-transform")||s.getPropertyValue("-ms-transform")||s.getPropertyValue("-o-transform")||s.getPropertyValue("transform");if("none"!==i){var o=i.split("(")[1].split(")")[0].split(","),r=o[0],l=o[1];a=Math.round(Math.atan2(l,r)*(180/Math.PI))}else a=0;return 0>a?a+360:a},populateInput=function(e,a){var t=40,s=30,i=getRotationDegrees(a),o=0;t>i||(t+1*s>i?o=1:t+2*s>i?o=2:t+3*s>i?o=3:t+4*s>i?o=4:t+5*s>i?o=5:t+6*s>i?o=6:t+7*s>i?o=7:t+8*s>i?o=8:t+9*s>i&&(o=9),e.val(""+e.val()+o).change())},init=function(){$("[data-rotary]").each(function(){var e=$(this),a=$(e.attr("data-rotary"));a.html(html);var t=a.find(".rotary");t.on("mousedown touchstart",".hole",function(a){a.preventDefault();var s=t.find(".dial"),i=$(this);0===getRotationDegrees(s)&&(s.removeClass("smooth"),$("body").on("mousemove touchmove",function(e){rotateDial(t,e,i)}),$(document).one("mouseup touchend",function(){$("body").off("mousemove touchmove"),s.addClass("smooth").attr("style",""),populateInput(e,s)}))}),e.on("change",function(){var a=e.val();0===a.length?$("#call").removeAttr("href"):$("#call").attr("href","tel:"+a)})})};$(document).ready(function(){init()});